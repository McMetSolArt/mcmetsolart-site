<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <title>Test Local Account Panel</title>
</head>
<body>
    <h1>Test Account Panel Local</h1>
    <button onclick="testOpen()">Deschide Account Panel</button>
    <div id="result"></div>

    <script>
        // SimuleazÄƒ un utilizator logat
        localStorage.setItem('currentUser', JSON.stringify({
            firstName: 'Test',
            lastName: 'User',
            email: 'test@local.com',
            phone: '0712345678'
        }));
        localStorage.setItem('authToken', 'test-token-123');
    </script>

    <script src="js/api-client.js"></script>
    <script src="js/account-panel-simple.js"></script>
    
    <script>
        function testOpen() {
            const result = document.getElementById('result');
            
            console.log('ğŸ§ª Test deschidere panel...');
            console.log('AccountPanel:', window.AccountPanel);
            
            if (window.AccountPanel) {
                result.innerHTML = '<p style="color: green;">âœ… AccountPanel gÄƒsit!</p>';
                try {
                    window.AccountPanel.show('dashboard');
                    result.innerHTML += '<p style="color: green;">âœ… Panel deschis!</p>';
                } catch (error) {
                    result.innerHTML += '<p style="color: red;">âŒ Eroare: ' + error.message + '</p>';
                    console.error(error);
                }
            } else {
                result.innerHTML = '<p style="color: red;">âŒ AccountPanel NU existÄƒ!</p>';
            }
        }

        // Test automat dupÄƒ 2 secunde
        setTimeout(() => {
            console.log('ğŸ” Verificare AccountPanel...');
            console.log('window.AccountPanel:', window.AccountPanel);
            
            if (!window.AccountPanel) {
                document.getElementById('result').innerHTML = 
                    '<p style="color: red;">âŒ AccountPanel nu s-a Ã®ncÄƒrcat dupÄƒ 2 secunde!</p>' +
                    '<p>VerificÄƒ Console (F12) pentru erori.</p>';
            }
        }, 2000);
    </script>
</body>
</html>
