<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Header Auto-Hide</title>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #1a1a1a;
            color: #00ff00;
        }
        .debug-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.9);
            border: 2px solid #00ff00;
            padding: 20px;
            border-radius: 8px;
            max-width: 400px;
            z-index: 10000;
        }
        .debug-item {
            margin: 10px 0;
            padding: 10px;
            background: rgba(0,255,0,0.1);
            border-left: 3px solid #00ff00;
        }
        .error {
            color: #ff0000;
            border-left-color: #ff0000;
        }
        .success {
            color: #00ff00;
        }
        .warning {
            color: #ffaa00;
            border-left-color: #ffaa00;
        }
        button {
            background: #00ff00;
            color: #000;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
            border-radius: 4px;
            font-weight: bold;
        }
        button:hover {
            background: #00cc00;
        }
    </style>
</head>
<body>
    <h1>ğŸ” Debug Auto-Hide Header</h1>
    <p>Acest script verificÄƒ de ce auto-hide header nu funcÈ›ioneazÄƒ Ã®n pagina principalÄƒ.</p>
    
    <button onclick="runDiagnostics()">ğŸ”„ RuleazÄƒ Diagnostice</button>
    <button onclick="testAutoHide()">ğŸ§ª TesteazÄƒ Auto-Hide</button>
    <button onclick="clearResults()">ğŸ—‘ï¸ È˜terge Rezultate</button>
    
    <div id="results"></div>

    <script>
        function log(message, type = 'info') {
            const results = document.getElementById('results');
            const div = document.createElement('div');
            div.className = `debug-item ${type}`;
            div.innerHTML = message;
            results.appendChild(div);
        }

        function clearResults() {
            document.getElementById('results').innerHTML = '';
        }

        function runDiagnostics() {
            clearResults();
            log('<h2>ğŸ” DIAGNOSTICE AUTO-HIDE HEADER</h2>');
            
            // 1. VerificÄƒ dacÄƒ header-ul existÄƒ
            const header = document.querySelector('.header-main');
            if (header) {
                log('âœ… Header gÄƒsit: .header-main', 'success');
                log(`ğŸ“ Dimensiuni: ${header.offsetWidth}x${header.offsetHeight}px`);
                log(`ğŸ“ Position: ${getComputedStyle(header).position}`);
                log(`ğŸ¨ Z-index: ${getComputedStyle(header).zIndex}`);
                log(`ğŸ”„ Transform: ${getComputedStyle(header).transform}`);
                log(`â±ï¸ Transition: ${getComputedStyle(header).transition}`);
                log(`ğŸ“‹ Clase: ${header.className}`);
            } else {
                log('âŒ Header NU a fost gÄƒsit! (.header-main)', 'error');
            }
            
            // 2. VerificÄƒ CSS-ul auto-hide-header.css
            const stylesheets = Array.from(document.styleSheets);
            const autoHideCSS = stylesheets.find(s => s.href && s.href.includes('auto-hide-header.css'));
            if (autoHideCSS) {
                log('âœ… CSS auto-hide-header.css Ã®ncÄƒrcat', 'success');
                try {
                    const rules = Array.from(autoHideCSS.cssRules || autoHideCSS.rules);
                    log(`ğŸ“„ Reguli CSS gÄƒsite: ${rules.length}`);
                    rules.forEach(rule => {
                        if (rule.selectorText && rule.selectorText.includes('header')) {
                            log(`ğŸ¯ ${rule.selectorText}: ${rule.style.cssText}`);
                        }
                    });
                } catch (e) {
                    log(`âš ï¸ Nu pot citi regulile CSS: ${e.message}`, 'warning');
                }
            } else {
                log('âŒ CSS auto-hide-header.css NU este Ã®ncÄƒrcat!', 'error');
            }
            
            // 3. VerificÄƒ scriptul auto-hide-header.js
            const scripts = Array.from(document.scripts);
            const autoHideJS = scripts.find(s => s.src && s.src.includes('auto-hide-header.js'));
            if (autoHideJS) {
                log('âœ… Script auto-hide-header.js Ã®ncÄƒrcat', 'success');
                log(`ğŸ“ Src: ${autoHideJS.src}`);
            } else {
                log('âŒ Script auto-hide-header.js NU este Ã®ncÄƒrcat!', 'error');
            }
            
            // 4. VerificÄƒ event listeners pe scroll
            log('<h3>ğŸ“œ Event Listeners pe Scroll:</h3>');
            const scrollListeners = getEventListeners ? getEventListeners(window).scroll : null;
            if (scrollListeners) {
                log(`âœ… ${scrollListeners.length} scroll listeners gÄƒsiÈ›i`);
            } else {
                log('âš ï¸ Nu pot verifica scroll listeners (foloseÈ™te Chrome DevTools)', 'warning');
            }
            
            // 5. VerificÄƒ conflicte CSS
            if (header) {
                log('<h3>ğŸ” Verificare Conflicte CSS:</h3>');
                const computed = getComputedStyle(header);
                
                // VerificÄƒ dacÄƒ transform este suprascris
                if (computed.transform === 'none') {
                    log('âš ï¸ Transform este "none" - posibil conflict CSS!', 'warning');
                } else {
                    log(`âœ… Transform: ${computed.transform}`);
                }
                
                // VerificÄƒ transition
                if (!computed.transition || computed.transition === 'all 0s ease 0s') {
                    log('âš ï¸ Transition lipseÈ™te sau este 0s - animaÈ›ia nu va funcÈ›iona!', 'warning');
                } else {
                    log(`âœ… Transition: ${computed.transition}`);
                }
                
                // VerificÄƒ will-change
                if (computed.willChange) {
                    log(`âœ… Will-change: ${computed.willChange}`);
                } else {
                    log('âš ï¸ Will-change lipseÈ™te', 'warning');
                }
            }
            
            // 6. TesteazÄƒ adÄƒugarea claselor manual
            log('<h3>ğŸ§ª Test Manual:</h3>');
            if (header) {
                log('Adaug clasa .header-hidden...');
                header.classList.add('header-hidden');
                setTimeout(() => {
                    const transform = getComputedStyle(header).transform;
                    if (transform.includes('matrix') && !transform.includes('1, 0, 0, 1, 0, 0')) {
                        log('âœ… Transform aplicat corect! Header ar trebui sÄƒ fie ascuns.', 'success');
                    } else {
                        log(`âŒ Transform NU s-a aplicat! Valoare: ${transform}`, 'error');
                    }
                    
                    // Revin la vizibil
                    header.classList.remove('header-hidden');
                    header.classList.add('header-visible');
                }, 100);
            }
            
            log('<h3>ğŸ“Š CONCLUZIE:</h3>');
            log('VerificÄƒ mesajele de mai sus pentru a identifica problema.');
        }

        function testAutoHide() {
            clearResults();
            log('<h2>ğŸ§ª TEST AUTO-HIDE</h2>');
            
            const header = document.querySelector('.header-main');
            if (!header) {
                log('âŒ Header nu existÄƒ!', 'error');
                return;
            }
            
            log('Simulez scroll Ã®n jos...');
            header.classList.add('header-hidden');
            header.classList.remove('header-visible');
            
            setTimeout(() => {
                log('Header ar trebui sÄƒ fie ascuns acum.', 'success');
                log('Simulez scroll Ã®n sus...');
                header.classList.remove('header-hidden');
                header.classList.add('header-visible');
                
                setTimeout(() => {
                    log('Header ar trebui sÄƒ fie vizibil acum.', 'success');
                }, 500);
            }, 500);
        }

        // RuleazÄƒ automat la Ã®ncÄƒrcare
        window.addEventListener('load', () => {
            setTimeout(runDiagnostics, 1000);
        });
    </script>
</body>
</html>
